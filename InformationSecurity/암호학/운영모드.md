## 운영모드
### 패딩
---
블록 암호는 블록 단위로 암호화를 하므로 입력의 길이가 정확하게 블록 크기의 배수가 되어야 한다. 하지만 대부분 평문의 크기가 블록 크기의 배수가 되지 않는다. 이러한 문제를 해결하는 과정을 패딩이라고 한다. 패딩의 기법에는 **비트 패딩**, **바이트 패딩**, **PKCS#7**패딩이 있다.
#### 비트 패딩
마지막 블록에서 평문이 채우지 못하는 비트 중 최상위 비트를 1로 설정하고, 나머지는 모두 0으로 채우는 패딩기법이다. 수신자는 마지막 비트부터 처음으로 값이 1인 비트가 나올 때까지를 패딩으로 인식하며, 이거를 제거해서 평문을 복구할 수 있다. 하지만 평문이 정확히 블록 크기의 배수일 떄는 패딩으로 한 블록을 추가해서 구분해주어야 한다.
#### 바이트 패딩: ANSI X.923
마지막 블록의 남는 바이트를 임의의 값으로 채우고, 마지막 바이트에 패딩의 길이를 기록하는 방법이다. 
#### 바이트 패딩: PKCS#7
공개키 암호의 표준 문서로서, PKCS의 7번째 문서이다. AES와 같은 블록 암호의 패딩 기법을 제시한다.
### 운영모드
---
#### ECB 모드
간단한 운영모드로, 모든 블록을 같은 키로 암호화하는 방법이다. 각 블록이 독립적으로 암호화되므로 여러 블록을 병렬적으로 암호화할 수 있다는 장점이 있다. 하지만 다른 운영모드에 비해 암호학적 안정성이 부족하다는 단점이 있다.
* 취약점
같은 블록은 같은 암호문으로 암호화되므로 혼돈의 성질이 약하고, 이로인해 평문의 정보를 습득하거나, 리플레이 공격을 수행할 수 있다.
#### CBC 모드
어떤 블록을 암호화하기 전에, 이 블록을 직전 블록의 암호문과 XOR한다. 평문의 첫 번째 블록은 이전 블록이 존재하지 않으므로, **초기 벡터**라고 불리는 임의의 데이터와 XOR한다. 암호화 할때는 병렬적으로 암호화 할 수 없지만, 복호화를 할 때는 병렬적으로 암호화 할 수 있다. 또한 재전송 공격에 강하며, 높은 혼돈성을 가지고 있어 널리 사용되고 있다.
* 초기 벡터
일반적으로 논스라는 무작위 값을 사용하며, 이는 공격자가 알아도 안전성에 영향을 끼치지 않는다. 
#### CTR 모드
블록 암호에 nonce와 평문 블록의 인덱스를 결합한 값을 입력한다. 암호문은 블록 암호의 출력과 평문 블록을 XOR하여 생성한다. 병렬로 암복호화할 수 있으며, 구현이 간단하다는 장점이 있다.