## Command Injection
### Command Injection
---
인젝션은 악의적인 데이터를 프로그램에 입력해 이를 시스템 명령어, 코드, 데이터베이스 쿼리 등으로 실행되게 하는 기법이다. 이 중, 이용자의 입력을 시스템 명령어로 실행하게 하는 취약점을 **Command Injection**이라고 한다. 명령어를 실행하는 함수에 이용자가 임의의 인자를 전달할 수 있을 때 발생한다. 예를 들어 파이썬으로 개발된 웹 애플리케이션에서 임의 IP에 ping을 전송하고 싶으면 `os.system("ping [user-input]")`을 이용하고, 파일을 읽고 싶으면 `os.system("cat [user-input]")등의 형태로 시스템 함수를 사용한다. 이용자의 입력을 제대로 검사하지 않으면 임의 명령어가 실행될 수도 있다. 리눅스 셸 프로그램이 지원하는 다양한 메타문자 때문이다. 시스템 함수는 셸 프로그램에 명령어를 전달하여 실행하는데, 셸 프로그램은 다양한 메타 문자를 지원한다.
* ` `` `
안에 들어있는 명령어를 실행한 결과로 치환한다.
* `$()`
안에 들어있는 명령어를 실행한 결과로 치환한다. 중복 사용이 가능하다.
* `&&`
한 줄에 여러 명령어를 사용하고 싶을 때 사용한다. 앞 명령어에서 에러가 발생하지 않아야 뒷 명령어를 실행한다. 
* `||`
한 줄에 여러 명령어를 사용하고 싶을 때 사용한다. 앞 명령어에서 에러가 발생해야 뒷 명령어를 실행한다. 
* `;`
한 줄에 여러 명령어를 사용하고 싶을 때 사용한다. 단순히 명령어를 구분하기 위해 사용하며, 앞 명령어의 에러 유무와 관계 없이 뒷 명령어를 실행한다.
* `|`
앞 명령어의 결과가 뒷 명령어의 입력으로 들어간다.