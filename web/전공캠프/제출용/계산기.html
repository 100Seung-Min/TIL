<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>계산기</title>
</head>
<style>
  table {
    border: 2px solid black;
    border-collapse: collapse;
    width: 400px;
    margin: 0 auto;
  }
  th {
    border: 1px solid black; 
    text-align: center;
  }
  #box {
    border: 2px solid black;
    width: 400px;
    height: 200px;
    margin: 0 auto;
    text-align: center;
    font-size: 50px;
    position: relative;
  }
  #gop, #plu, #avg, #min{
    background-color: rgb(180, 180, 180);
  }
  #A, #B, #C, #D, #E, #F, #G, #H, #I, #J, #K {
    background-color: rgb(207, 205, 205);
  } 
  #L {
    background-color: rgb(141, 141, 228);
  }

  div[id="box"] p{
    float: left;
    width: 55px;
    margin: 0 auto;
  }
</style>
<body>
  <div id="box">
    <br>
    <p id="num1"></p>
    <p id="op"></p>
    <p id="num2"></p>
    <p id="result"></p>
    <button id="reset" style="position: absolute; right: 0px; bottom: 0px;" onclick="reset()">초기화</button>
    <p style="position: absolute;top: 0px; font-size: 20px; width: 400px;">한자리수만 계산합니다</p>
  </div>
  <table>
    <tr>
      <th id="H" onclick="Num(7)">7</th>
      <th id="I" onclick="Num(8)">8</th>
      <th id="J" onclick="Num(9)">9</th>
      <th id="avg" onclick="Avg()"">/</th>
    </tr>
    <tr>
      <th id="E" onclick="Num(4)">4</th>
      <th id="F" onclick="Num(5)">5</th>
      <th id="G" onclick="Num(6)">6</th>
      <th id="gop" onclick="Multi()">x</th>
    </tr>
    <tr>
      <th id="B" onclick="Num(1)">1</th>
      <th id="C" onclick="Num(2)">2</th>
      <th id="D" onclick="Num(3)">3</th>
      <th id="min" onclick="Minus()">-</th>
    </tr>
    <tr>
      <th id="A" onclick="Num(0)">0</th>
      <th id="K">.</th>
      <th id="L" onclick="reserch()">=</th>
      <th id="plu" onclick="Plus()">+</th>
    </tr>
  </table>
  <script>
    var num1 = null;
    var num2 = null;
    var sum = null;
    var cnt = null;
    var math;
    function Num(n) {
      if(num1 == null) {
        cnt = 0;
      }
      if(cnt == 0){
        num1 = n;
        let a = document.getElementById("num1")
        a.innerText=num1;
        let b = document.getElementById("num2")
        b.innerText=" ";
        let c = document.getElementById("op")
        c.innerText=" ";
        let d = document.getElementById("result")
        d.innerText=" ";
        num2 = 0;
        sum = 0;
      } else if (cnt == 1) {
        num2 = n;
        let a = document.getElementById("num2")
        a.innerText=num2;
      }
    }
    function Plus() {
      if(cnt == 0){
        math = "p"
        let a = document.getElementById("op")
        a.innerText="+";
        cnt++;
      } else {
        alert("연산자는 한 번만 쓰세요");
      }
    }
    function Multi() {
      if(cnt == 0){
        math = "m"
        let a = document.getElementById("op")
        a.innerText="X";
        cnt++;
      } else {
        alert("연산자는 한 번만 쓰세요");
      }
    }
    function Avg() {
      if(cnt == 0){
        math = "a"
        let a = document.getElementById("op")
        a.innerText="/";
        cnt++;
      } else {
        alert("연산자는 한 번만 쓰세요");
      }
    }
    function Minus() {
      if(cnt == 0){
        math = "M"
        let a = document.getElementById("op")
        a.innerText="-";
        cnt++;
      } else {
        alert("연산자는 한 번만 쓰세요");
      }
    }
    function reserch() {
      let a = document.getElementById("result");
      if(num2 != null) {
        if(math == "p") {
          sum = num1 + num2;
        } else if (math == "m") {
          sum = num1 * num2;
        } else if (math == "M") {
          sum = num1 - num2;
        } else if (math == "a") {
          sum = num1 / num2;
        } else {
          alert("연산자를 선택해주세요");
          return;
        }
      } else {
        alert("수를 입력해주세요");
        return;
      }
      a.innerText="=" + sum;
      num1 = null;
      num2 = null;
      sum = null;
    }
    function reset() {
      let a = document.getElementById("num1")
      a.innerText=" ";
      let b = document.getElementById("num2")
      b.innerText=" ";
      let c = document.getElementById("op")
      c.innerText=" ";
      let d = document.getElementById("result")
      d.innerText=" ";
      num1 = null;
      num2 = null;
      sum = null;
      cnt = null;
    }
  </script>
</body>
</html>